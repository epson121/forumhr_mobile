package com.example.fhr;


import com.example.fhr.ThreadsActivity.ThreadAdapter;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.widget.TextView;

public class PostsActivity extends Activity {
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		
		String threadName, threadUri, threadNumOfPages;
		
		Bundle b = getIntent().getExtras();
		threadName = b.getString("threadName");
		threadUri = b.getString("threadName");
		threadNumOfPages = b.getString("threadNumOfPages");
		
		setContentView(R.layout.post_list_row);
		
		TextView username = (TextView) findViewById(R.id.post_username_text);
		TextView date = (TextView) findViewById(R.id.post_date_text);
		
		username.setText("USERNAME");
		date.setText("DATE!!!!!");
		
		new Async().execute(threadUri);	
	}
	
	private class Async extends AsyncTask<String, Void, String>{

		@Override
		protected String doInBackground(String... params) {
			try {
				fthp = new ForumPostParser(params);
				fth = fthp.getThreadList();
				count = fthp.getCount();
			} 
			catch (Exception e) {
				return "";
			}
			return "ok";
		}
		
		@Override
		protected void onPostExecute(String result) {
			if (result.equals("ok"))
				threadList.setAdapter(new ThreadAdapter());
			else{
				//generate error alert dialog
			}
		}
		
	}


}
